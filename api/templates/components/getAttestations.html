<div class="flex flex-col">
    <div class="flex flex-row items-center">
        <span class="min-w-[200px] font-[500] mr-2">Attestation Number</span>
        <span class="min-w-[200px] font-[500] mr-2">Completed?</span>
    </div>
    <span class="w-full h-[2px] bg-primary mb-4"></span>
    {% for a in attestations %}
    <div class="flex flex-row items-center shadow-md my-2">
        <span class="min-w-[200px] mr-2">{{ a[0] }}</span>
        {% if a[1] == 'complete' %}
        <button a="{{ a[0] }}" class="btn btn-primary btn-sm text-white generateAttestation"> Generate PDF </button>
        {% else %}
        <span class="text-white text-[500] text-sm">Incomplete</span>
        {% endif %}
    </div>
    <span class="w-full h-[1px] bg-white opacity-30"></span>
    {% endfor %}
</div>

<script>
    $(".generateAttestation").on("click", (e) => {

        axios.post(`/api/generateAttestationPDF`, {
        headers: { 'Content-Type': 'text/html', 'Access-Control-Allow-Methods': 'POST', 'Access-Control-Allow-Origin': '*' },
        data: {
            attestation: $(e.currentTarget).attr("a")
        },
        }).then( (response) => {
            
        });

    });
</script>